{"version":3,"file":"index.js","sources":["../libs/delete-comments.ts"],"sourcesContent":["import * as Ast from \"@unified-latex/unified-latex-types\";\nimport { match } from \"@unified-latex/unified-latex-util-match\";\nimport { replaceNode } from \"@unified-latex/unified-latex-util-replace\";\n\n/**\n * Returns a new AST with all comments removed. Care is taken to preserve whitespace.\n * For example\n * ```\n * x%\n * y\n * ```\n * becomes `xy` but\n * ```\n * x %\n * y\n * ```\n * becomes `x y`\n */\nexport function deleteComments(ast: Ast.Ast) {\n    return replaceNode(ast, (node) => {\n        if (!match.comment(node)) {\n            return;\n        }\n\n        if (node.leadingWhitespace) {\n            return { type: \"whitespace\" };\n        }\n\n        return null;\n    });\n}\n"],"names":[],"mappings":";;AAkBO,SAAS,eAAe,KAAc;AAClC,SAAA,YAAY,KAAK,CAAC,SAAS;AAC9B,QAAI,CAAC,MAAM,QAAQ,IAAI,GAAG;AACtB;AAAA,IACJ;AAEA,QAAI,KAAK,mBAAmB;AACjB,aAAA,EAAE,MAAM;IACnB;AAEO,WAAA;AAAA,EAAA,CACV;AACL;"}