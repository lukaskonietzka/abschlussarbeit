{"version":3,"file":"provides-sdqk_ZBm.js","sources":["../package/minted/libs/argument-parser.ts","../package/minted/provides.ts"],"sourcesContent":["import { arg } from \"@unified-latex/unified-latex-builder\";\nimport { Argument, ArgumentParser } from \"@unified-latex/unified-latex-types\";\nimport { parse as parseArgspec } from \"@unified-latex/unified-latex-util-argspec\";\nimport { Node } from \"@unified-latex/unified-latex-util-argspec/libs/argspec-types\";\nimport { gobbleSingleArgument } from \"@unified-latex/unified-latex-util-arguments\";\nimport { match } from \"@unified-latex/unified-latex-util-match\";\n\nconst argSpecM = parseArgspec(\"m\")[0];\nconst argSpecO = parseArgspec(\"o\")[0];\nconst argSpecRDelim: { [delim: string]: Node } = {};\n\n/**\n * This argument parser parses arguments in the form of\n * - [⟨options⟩]{⟨language⟩}⟨delim⟩⟨code⟩⟨delim⟩\n * - [⟨options⟩]{⟨language⟩}{⟨code⟩}\n */\nexport const argumentParser: ArgumentParser = (nodes, startPos) => {\n    const { argument: optionalArg, nodesRemoved: optionalArgNodesRemoved } =\n        gobbleSingleArgument(nodes, argSpecO, startPos);\n\n    const { argument: languageArg, nodesRemoved: languageArgNodesRemoved } =\n        gobbleSingleArgument(nodes, argSpecM, startPos);\n\n    let codeArg: Argument | Argument[] | null = null;\n    let codeArgNodesRemoved: number = 0;\n    const nextNode = nodes[startPos];\n    if (match.group(nextNode)) {\n        const mandatoryArg = gobbleSingleArgument(nodes, argSpecM, startPos);\n        codeArg = mandatoryArg.argument;\n        codeArgNodesRemoved = mandatoryArg.nodesRemoved;\n    } else if (match.string(nextNode) && nextNode.content.length === 1) {\n        const delim = nextNode.content;\n        argSpecRDelim[delim] =\n            argSpecRDelim[delim] || parseArgspec(`r${delim}${delim}`)[0];\n        const delimArg = gobbleSingleArgument(\n            nodes,\n            argSpecRDelim[delim],\n            startPos\n        );\n        codeArg = delimArg.argument;\n        codeArgNodesRemoved = delimArg.nodesRemoved;\n    }\n\n    return {\n        args: [\n            optionalArg || arg(null),\n            languageArg || arg(null),\n            codeArg || arg(null),\n        ],\n        nodesRemoved:\n            optionalArgNodesRemoved +\n            languageArgNodesRemoved +\n            codeArgNodesRemoved,\n    };\n};\n","import {\n    MacroInfoRecord,\n    EnvInfoRecord,\n} from \"@unified-latex/unified-latex-types\";\nimport { argumentParser } from \"./libs/argument-parser\";\n\nexport const macros: MacroInfoRecord = {\n    mint: { argumentParser: argumentParser },\n    mintinline: { argumentParser: argumentParser },\n    inputminted: { argumentParser: argumentParser },\n    usemintedstyle: { signature: \"m\" },\n    setminted: { signature: \"o m\" },\n    setmintedinline: { signature: \"o m\" },\n    newmint: { signature: \"o m m\" },\n    newminted: { signature: \"o m m\" },\n    newmintinline: { signature: \"o m m\" },\n    newmintedfile: { signature: \"o m m\" },\n};\n\nexport const environments: EnvInfoRecord = {\n    minted: { signature: \"o m\" },\n};\n"],"names":["parseArgspec"],"mappings":";;;;AAOA,MAAM,WAAWA,MAAa,GAAG,EAAE,CAAC;AACpC,MAAM,WAAWA,MAAa,GAAG,EAAE,CAAC;AACpC,MAAM,gBAA2C,CAAA;AAOpC,MAAA,iBAAiC,CAAC,OAAO,aAAa;AACzD,QAAA,EAAE,UAAU,aAAa,cAAc,4BACzC,qBAAqB,OAAO,UAAU,QAAQ;AAE5C,QAAA,EAAE,UAAU,aAAa,cAAc,4BACzC,qBAAqB,OAAO,UAAU,QAAQ;AAElD,MAAI,UAAwC;AAC5C,MAAI,sBAA8B;AAC5B,QAAA,WAAW,MAAM,QAAQ;AAC3B,MAAA,MAAM,MAAM,QAAQ,GAAG;AACvB,UAAM,eAAe,qBAAqB,OAAO,UAAU,QAAQ;AACnE,cAAU,aAAa;AACvB,0BAAsB,aAAa;AAAA,EAAA,WAC5B,MAAM,OAAO,QAAQ,KAAK,SAAS,QAAQ,WAAW,GAAG;AAChE,UAAM,QAAQ,SAAS;AACvB,kBAAc,KAAK,IACf,cAAc,KAAK,KAAKA,MAAa,IAAI,KAAK,GAAG,KAAK,EAAE,EAAE,CAAC;AAC/D,UAAM,WAAW;AAAA,MACb;AAAA,MACA,cAAc,KAAK;AAAA,MACnB;AAAA,IAAA;AAEJ,cAAU,SAAS;AACnB,0BAAsB,SAAS;AAAA,EACnC;AAEO,SAAA;AAAA,IACH,MAAM;AAAA,MACF,eAAe,IAAI,IAAI;AAAA,MACvB,eAAe,IAAI,IAAI;AAAA,MACvB,WAAW,IAAI,IAAI;AAAA,IACvB;AAAA,IACA,cACI,0BACA,0BACA;AAAA,EAAA;AAEZ;AChDO,MAAM,SAA0B;AAAA,EACnC,MAAM,EAAE,eAA+B;AAAA,EACvC,YAAY,EAAE,eAA+B;AAAA,EAC7C,aAAa,EAAE,eAA+B;AAAA,EAC9C,gBAAgB,EAAE,WAAW,IAAI;AAAA,EACjC,WAAW,EAAE,WAAW,MAAM;AAAA,EAC9B,iBAAiB,EAAE,WAAW,MAAM;AAAA,EACpC,SAAS,EAAE,WAAW,QAAQ;AAAA,EAC9B,WAAW,EAAE,WAAW,QAAQ;AAAA,EAChC,eAAe,EAAE,WAAW,QAAQ;AAAA,EACpC,eAAe,EAAE,WAAW,QAAQ;AACxC;AAEO,MAAM,eAA8B;AAAA,EACvC,QAAQ,EAAE,WAAW,MAAM;AAC/B;"}